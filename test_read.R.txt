I was trying out `vroom` v 1.4.0.9000 with an 8.8GB tab-delimited text file in UT-16LE encoding (because of  r-lib/vroom@7d54cda ).

`vroom()` returns about half the number of expected rows and some of the character fields contain embedded tabs (the field delimiter!). I can read the same file accurately with `read.delim(skipNull = TRUE)` .

FWIW I am using: Ubuntu 20.10; R 4.1.0; RStudio 1.4.1717

I don't have a reprex: nobody wants an 8.8GB file and encodings are a mystery to me, so I don't know how to dummy up some appropriate data.

Examples:

  **- `read.delim(skipNull = TRUE)`**
  ```
d_rd_skip <- read.delim(
  "data/utf16le.txt", fileEncoding = 'UTF-16LE',
  header = TRUE, sep = "\t", colClasses = "character",
  strip.white = TRUE, na.strings = "",
  skipNul = TRUE,
  quote = "", allowEscapes = FALSE, comment.char = ""
)

dim(d_rd_skip)
#> [1] 9671886      90
# Correct number of rows
# Eyeballing the data frame looks OK
```

**- `read.delim(skipNull = FALSE)`**
  ```
d_rd_noskip <- read.delim(
  "data/utf16le.txt", fileEncoding = 'UTF-16LE',
  header = TRUE, sep = "\t", colClasses = "character",
  strip.white = TRUE, na.strings = "",
  skipNul = FALSE,
  quote = "", allowEscapes = FALSE, comment.char = ""
)
#> Warning messages:
#> 1: In read.table(file = file, header = header, sep = sep, quote = quote,  :
#>   line 2 appears to contain embedded nulls
#> 2: In read.table(file = file, header = header, sep = sep, quote = quote,  :
#>   line 3 appears to contain embedded nulls
#> 3: In read.table(file = file, header = header, sep = sep, quote = quote,  :
#>   line 4 appears to contain embedded nulls
#> 4: In read.table(file = file, header = header, sep = sep, quote = quote,  :
#>   line 5 appears to contain embedded nulls
#> 5: In scan(file = file, what = what, sep = sep, quote = quote, dec = dec,  :
#>   embedded nul(s) found in input

dim(d_rd_noskip)
#> [1] 9671886      90
# Correct number of rows
# Eyeballing the data frame shows many missing fields from phone_num onwards
```
`read.delim()` complains about embedded nulls, returns the correct number of rows, and some expected field values are missing.
So `skipNull = TRUE` is needed for `read.delim()` to read this file correctly.

**- `vroom()`**
  ```
library(vroom) # version 1.4.0.9000

d_vr <- vroom(
  "data/utf16le.txt", locale = locale(encoding = "UTF-16LE"),
  col_names = TRUE, delim = "\t", col_types = cols(.default = col_character()),
  trim_ws = TRUE, na = "",
  quote = "", escape_double = FALSE, escape_backslash = FALSE, comment = ""
)

dim(d_vr)
#> [1] 4834776      90
# About half the number of rows there should be
# Eyeballing the data frame shows values in the wrong fields and character fields with embedded tabs (the field separator)
```

`vroom()` doesn't give any warnings and hasn't been able to split the characters correctly across the fields.

Many of the arguments to `vroom()` mirror the arguments to `read.delim()`, but there is no equivalent argument in `vroom()` to `skipNull` in `read.delim()`. Perhaps there should be.

Is it possible this issue is related to https://github.com/tidyverse/readr/issues/306 ?






# iconv external 9.7M lines -> vroom read converted, no error 4.8M lines




# UTF-16LE file (and conversion to UTF-8) have embedded nulls
# There is a quote character somewhere
